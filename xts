#!/bin/bash
# xjs Bash File.

# Define the try function to execute a command
try() {
  "$@"  # Run the command passed as argument
}

# Define the catch function to handle errors
catch() {
  echo "bun command failed, falling back to npx tsx..."
  npx tsx index.ts "$@"  # Fallback command
}

# Try to run the bun command
try bun index.ts "$@"
# Check if the bun command failed
if [ $? -ne 0 ]; then
  catch "$@"
fi
